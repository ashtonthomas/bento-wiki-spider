function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}angular.module("bendy.templates",[]).run(["$templateCache",function(r){r.put("app/form/form.html",'<h1 class="text-center my-xx-large">The path to enlightenment!</h1><div class="grid-lg-1-2 grid-md-2-3 grid-sm-1-1 mx-auto"><form name=traceDetails><h2 class="color-black mb-0 mx-h">Path Trace to <a href=https://en.wikipedia.org/wiki/Wikipedia:Getting_to_Philosophy>Philosophy</a></h2><div class="color-gray s-foxtrot mx-h py-step border-bottom">How many hops do you think it will take?</div><div class="form-group mt-base"><div class="grid-col grid-1-1"><label class=form-label>Starting Wiki Url</label> <input name=trace_url class=form-control required type=text ng-model=form.trace_url placeholder=https://en.wikipedia.org/wiki/Quackery></div></div><div class="mx-h text-left mb-large"><button class="btn btn-default btn-large" ng-click=vm.startTrace()>Crawl!</button><figure class="loading float-left" ng-show=vm.loading></figure></div></form></div><hr>*would be nice to pass the number of max hops to wait<br>*needs validations (format, presence, etc)<br>*maybe show a list of recent traces<br>'),r.put("app/trace/trace.html",'<h1>Tracing route <span style="font-style: italic;color: #78bfff;" ng-if=!vm.trace.done>(Loading...)</span></h1><h2>{{vm.trace.url}}</h2><h3>UUID: {{vm.trace.id}}</h3><hr><ol><li ng-repeat="path in vm.trace.pathList">{{path.url}}</li></ol>')}]),angular.module("sparqApp.trace",["ui.router"]).config(["$stateProvider",function(r){return r.state("trace",{url:"/trace/:id",templateUrl:"app/trace/trace.html",controller:"sparqTraceController"})}]).controller("sparqTraceController",["$rootScope","$scope","$window","$state","traceService","$stateParams","$http",function(r,e,t,o,a,n,s){var c={},i=n.id;a.find(i).then(function(r){console.log(r),console.log(r.url),c.trace=r}),e.vm=c}]),angular.module("sparqApp.traceService",["ngCookies"]).factory("traceService",["$window","$cookies","$cacheFactory","$state","$http","$q",function(r,e,t,o,a,n){function s(r){var e={url:r};console.log("start trace..."),console.log(r),a.post("/api/v1/trace",e).success(function(r){o.go("trace",{id:r.id})}).error(function(r,e){console.log("Error "+r)})}function c(r){var e=n.defer();return a.get("/api/v1/trace/"+r).success(function(r){e.resolve(r)}).error(function(r,t){console.log("Error "+r),e.reject()}),e.promise}t("sparqApp");return{post:s,find:c}}]),angular.module("sparqApp.form",["ui.router"]).config(["$stateProvider",function(r){return r.state("form",{url:"/form",templateUrl:"app/form/form.html",controller:"sparqFormController"})}]).controller("sparqFormController",["$rootScope","$scope","$window","$state","traceService",function(r,e,t,o,a){var n={};n.startTrace=function(){var r=traceDetails.trace_url.value;a.post(r)},n.loading=!0,e.vm=n}]);var BaseError=function(r){function e(r){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,arguments)),o=void 0;return o=r.error?r.error.message:r.data&&r.data.error?r.data.error.message:r.data&&r.data.reasons?r.data.reasons[0].message:r,t.message=o,t.name="BaseError",t}return _inherits(e,r),e}(Error),HTTPError=function(r){function e(r){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return t.status=status,t.name="HTTPError",t}return _inherits(e,r),e}(BaseError),ServiceError=function(r){function e(r){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return r.code&&(t.code=r.code),r.config&&(t.config=r.config),t.name="ServiceError",t}return _inherits(e,r),e}(BaseError);angular.module("bendy.env",[]).constant("ENV",{SOME_URL_CONFIG:"https://some-url.sparq-app.herokuapp.com",ENVIRONMENT:"development"}).constant("NODE_ENV","development"),function(){function r(r,e){e.state("main",{url:"/"}),r.otherwise("/form")}r.$inject=["$urlRouterProvider","$stateProvider"],angular.module("templates",[]),angular.module("sparqApp",["restangular","ui.router","bendy.templates","bendy.env","sparqApp.form","sparqApp.trace","sparqApp.traceService"]).config(r)}();